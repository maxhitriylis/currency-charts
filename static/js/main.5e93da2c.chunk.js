(this["webpackJsonpcurrency-charts"]=this["webpackJsonpcurrency-charts"]||[]).push([[0],{15:function(e,t,a){e.exports=a(25)},20:function(e,t,a){},21:function(e,t,a){},23:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(10),u=a.n(r),s=(a(20),a(27)),l=a(7),o=a(13),i=a(4),m={currencyEUR:[],currencyUSD:[]},E=Object(n.createContext)(m),b=E.Provider,p=function(e){var t=e.children,a=Object(n.useReducer)((function(e,t){var a=t.type,n=t.payload;switch(a){case"ADD_CURRENCY":return Object(o.a)({},e,{currencyEUR:[].concat(Object(l.a)(e.currencyEUR),[n.currencyEUR]),currencyUSD:[].concat(Object(l.a)(e.currencyUSD),[n.currencyUSD])});default:throw new Error}}),m),r=Object(i.a)(a,2),u=r[0],s=r[1];return c.a.createElement(b,{value:{state:u,dispatch:s}},t)},f=(a(21),function(){var e=Object(n.useContext)(E),t=e.state,a=t.currencyEUR,r=t.currencyUSD;e.dispatch;return c.a.createElement("div",{className:"table"},c.a.createElement("ul",{className:"table-column"},c.a.createElement("li",{className:"table-column-title"},"EUR"),a.map((function(e){return c.a.createElement("li",{className:"table-column-item",key:e[1]},"\u0414\u0430\u0442\u0430: ",Object(s.a)(new Date(e[0]),{representation:"date"})," | \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435: ",e[1]," ")}))),c.a.createElement("ul",{className:"table-column"},c.a.createElement("li",{className:"table-column-title"},"USD"),r.map((function(e){return c.a.createElement("li",{className:"table-column-item",key:e[1]},"\u0414\u0430\u0442\u0430: ",Object(s.a)(new Date(e[0]),{representation:"date"})," | \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435: ",e[1]," ")}))))}),d=a(6),U=a.n(d),y=a(11),D=a(26),h=a(28),j=(a(9),a(12)),O=a.n(j),R=(a(23),function(){var e,t,a=Object(n.useState)(0),r=Object(i.a)(a,2),u=r[0],l=r[1],o=Object(n.useState)(!0),m=Object(i.a)(o,2),b=m[0],p=m[1],f=Object(n.useMemo)((function(){return e=30,Object(D.a)({start:Object(h.a)(new Date,-e),end:new Date}).map((function(e){return Object(s.a)(e,{representation:"date"})}));var e}),[]),d=Object(n.useContext)(E),j=d.state,R=j.currencyUSD,v=j.currencyEUR,x=d.dispatch;return function(e,t){var a=Object(n.useRef)();Object(n.useEffect)((function(){a.current=e}),[e]),Object(n.useEffect)((function(){if(null!==t){var e=setInterval((function(){return a.current.apply(a,arguments)}),t);return function(){return clearInterval(e)}}}),[t])}(Object(y.a)(U.a.mark((function e(){var t,a,n,c,r,s,o,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(30!==u){e.next=3;break}return l(0),e.abrupt("return",p(!1));case 3:return e.next=5,fetch("https://api.exchangeratesapi.io/".concat(f[u],"?base=USD&symbols=EUR"));case 5:return t=e.sent,e.next=8,fetch("https://api.exchangeratesapi.io/".concat(f[u],"?base=EUR&symbols=USD"));case 8:return a=e.sent,e.next=11,t.json();case 11:return n=e.sent,c=n.date,r=n.rates.EUR,e.next=16,a.json();case 16:return s=e.sent,o=s.date,i=s.rates.USD,x({type:"ADD_CURRENCY",payload:{currencyEUR:[new Date(c).getTime(),r],currencyUSD:[new Date(o).getTime(),i]}}),e.abrupt("return",l(u+1));case 21:case"end":return e.stop()}}),e)}))),b?1e3:null),c.a.createElement("div",{className:"chart"},c.a.createElement(O.a,{options:(e=R,t=v,{title:{text:"USD to EUR and EUR to USD exchange rate over time"},xAxis:{type:"datetime"},yAxis:{title:{text:"Exchange rate"}},legend:{enabled:!1},series:[{name:"USD to EUR",data:e},{name:"EUR to USD",data:t}]})}))}),v=(a(24),function(){return c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},"Currency chart"),c.a.createElement("div",{className:"layout-container"},c.a.createElement(R,null),c.a.createElement(f,null)))}),x=c.a.createElement(c.a.StrictMode,null,c.a.createElement(p,null,c.a.createElement(v,null)));u.a.render(x,document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.5e93da2c.chunk.js.map