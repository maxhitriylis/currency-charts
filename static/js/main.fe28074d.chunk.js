(this["webpackJsonpcurrency-charts"]=this["webpackJsonpcurrency-charts"]||[]).push([[0],{15:function(e,t,a){e.exports=a(25)},20:function(e,t,a){},21:function(e,t,a){},23:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),u=a.n(c),s=(a(20),a(27)),l=a(7),o=a(13),i=a(4),m={currencyEUR:[],currencyUSD:[]},b=Object(n.createContext)(m),p=b.Provider,E=function(e){var t=e.children,a=Object(n.useReducer)((function(e,t){var a=t.type,n=t.payload;switch(a){case"ADD_CURRENCY":return Object(o.a)({},e,{currencyEUR:[].concat(Object(l.a)(e.currencyEUR),[n.currencyEUR]),currencyUSD:[].concat(Object(l.a)(e.currencyUSD),[n.currencyUSD])});default:throw new Error}}),m),c=Object(i.a)(a,2),u=c[0],s=c[1];return r.a.createElement(p,{value:{state:u,dispatch:s}},t)},d=(a(21),function(){var e=Object(n.useContext)(b),t=e.state,a=t.currencyEUR,c=t.currencyUSD;e.dispatch;return r.a.createElement("div",{className:"table"},r.a.createElement("ul",{className:"table-column"},r.a.createElement("li",{className:"table-column-title"},"EUR"),a.map((function(e){return r.a.createElement("li",{className:"table-column-item",key:e[1]},"\u0414\u0430\u0442\u0430: ",Object(s.a)(new Date(e[0]),{representation:"date"})," | \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435: ",e[1]," ")}))),r.a.createElement("ul",{className:"table-column"},r.a.createElement("li",{className:"table-column-title"},"USD"),c.map((function(e){return r.a.createElement("li",{className:"table-column-item",key:e[1]},"\u0414\u0430\u0442\u0430: ",Object(s.a)(new Date(e[0]),{representation:"date"})," | \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435: ",e[1]," ")}))))}),f=a(6),U=a.n(f),y=a(11),h=a(26),R=a(28),j=(a(9),a(12)),O=a.n(j),D=(a(23),function(){var e,t,a=Object(n.useState)(0),c=Object(i.a)(a,2),u=c[0],l=c[1],o=Object(n.useState)(!0),m=Object(i.a)(o,2),p=m[0],E=m[1],d=Object(n.useMemo)((function(){return e=30,Object(h.a)({start:Object(R.a)(new Date,-e),end:new Date}).map((function(e){return Object(s.a)(e,{representation:"date"})}));var e}),[]),f=Object(n.useContext)(b),j=f.state,D=j.currencyUSD,x=j.currencyEUR,v=f.dispatch;return function(e,t){var a=Object(n.useRef)();Object(n.useEffect)((function(){a.current=e}),[e]),Object(n.useEffect)((function(){if(null!==t){var e=setInterval((function(){return a.current.apply(a,arguments)}),t);return function(){return clearInterval(e)}}}),[t])}(Object(y.a)(U.a.mark((function e(){var t,a,n,r,c,s,o,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(30!==u){e.next=3;break}return l(0),e.abrupt("return",E(!1));case 3:return e.next=5,fetch("https://api.exchangeratesapi.io/".concat(d[u],"?base=EUR&symbols=RUB"));case 5:return t=e.sent,e.next=8,fetch("https://api.exchangeratesapi.io/".concat(d[u],"?base=USD&symbols=RUB"));case 8:return a=e.sent,e.next=11,t.json();case 11:return n=e.sent,r=n.date,c=n.rates.RUB,e.next=16,a.json();case 16:return s=e.sent,o=s.date,i=s.rates.RUB,v({type:"ADD_CURRENCY",payload:{currencyEUR:[new Date(r).getTime(),c],currencyUSD:[new Date(o).getTime(),i]}}),e.abrupt("return",l(u+1));case 21:case"end":return e.stop()}}),e)}))),p?1e3:null),r.a.createElement("div",{className:"chart"},r.a.createElement(O.a,{options:(e=D,t=x,{chart:{reflow:!0,zoomType:"x"},title:{text:"RUB to EUR and RUB to USD exchange rate over time"},xAxis:{type:"datetime"},yAxis:{title:{text:"Exchange rate"}},legend:{enabled:!1},series:[{name:"RUB to USD",data:e,threshold:null},{name:"RUB to EUR",data:t,threshold:null}]})}))}),x=(a(24),function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},"Currency chart"),r.a.createElement("div",{className:"layout-container"},r.a.createElement(D,null),r.a.createElement(d,null)))}),v=r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,null,r.a.createElement(x,null)));u.a.render(v,document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.fe28074d.chunk.js.map